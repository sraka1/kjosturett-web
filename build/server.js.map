{"version":3,"sources":["/Users/jakob/Work/kogavoliti/kjosturett-web/webpack/bootstrap e65ab95182795a56736f","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"react\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"prop-types\"","/Users/jakob/Work/kogavoliti/kjosturett-web/src/config.js","webpack:///./src/routes/error/ErrorPage.css?06ca","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"redux\"","/Users/jakob/Work/kogavoliti/kjosturett-web/src/actions/runtime.js","/Users/jakob/Work/kogavoliti/kjosturett-web/node_modules/css-loader/lib/css-base.js","/Users/jakob/Work/kogavoliti/kjosturett-web/node_modules/isomorphic-style-loader/lib/insertCss.js","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"isomorphic-style-loader/lib/withStyles\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"kennitala\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"babel-polyfill\"","/Users/jakob/Work/kogavoliti/kjosturett-web/src/server.js","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"path\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"multer\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"multer-s3\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"aws-sdk\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"express\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"body-parser\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"node-fetch\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"react-dom/server\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"pretty-error\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"ioredis\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"uuid\"","/Users/jakob/Work/kogavoliti/kjosturett-web/src/components/App.js","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"react-redux\"","/Users/jakob/Work/kogavoliti/kjosturett-web/src/components/Html.js","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"serialize-javascript\"","/Users/jakob/Work/kogavoliti/kjosturett-web/src/routes/error/ErrorPage.js","/Users/jakob/Work/kogavoliti/kjosturett-web/src/routes/error/ErrorPage.css","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"babel-runtime/core-js/json/stringify\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"babel-runtime/helpers/slicedToArray\"","/Users/jakob/Work/kogavoliti/kjosturett-web/src/createFetch.js","/Users/jakob/Work/kogavoliti/kjosturett-web/src/router.js","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"universal-router\"","/Users/jakob/Work/kogavoliti/kjosturett-web/src/routes/index.js","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"./assets.json\"","/Users/jakob/Work/kogavoliti/kjosturett-web/src/store/configureStore.js","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"redux-thunk\"","/Users/jakob/Work/kogavoliti/kjosturett-web/src/reducers/index.js","/Users/jakob/Work/kogavoliti/kjosturett-web/src/reducers/runtime.js","/Users/jakob/Work/kogavoliti/kjosturett-web/src/store/createHelpers.js","/Users/jakob/Work/kogavoliti/kjosturett-web/src/store/logger/logger.server.js","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"util\"","/Users/jakob/Work/kogavoliti/kjosturett-web/src/lib/kjorskra.js","/Users/jakob/Work/kogavoliti/kjosturett-web/node_modules/webpack/buildin/module.js","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"cheerio\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"request\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"bluebird\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"classnames\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"react-countdown-now\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"history\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"react-collapse\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"react-scroll\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"query-string\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"rc-slider\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"react-image\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"react-select\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"react-dom\"","/Users/jakob/Work/kogavoliti/kjosturett-web/external \"react-google-maps\""],"names":["process","Error","googleTrackingId","module","exports","port","env","PORT","api","clientUrl","API_CLIENT_URL","serverUrl","API_SERVER_URL","analytics","SET_RUNTIME_VARIABLE","setRuntimeVariable","name","value","type","payload","redis","REDIS_URL","Redis","includes","tls","rejectUnauthorized","family","FLY_APP_NAME","console","error","app","express","global","navigator","userAgent","use","static","path","resolve","__dirname","bodyParser","urlencoded","extended","json","__DEV__","enable","get","req","res","coordinates","params","url","redirect","next","kjorskra","kennitala","then","d","post","token","party","reply","body","timestamp","Math","round","Date","now","set","success","answers","JSON","stringify","uuid","css","Set","fetch","createFetch","nodeFetch","baseUrl","config","cookie","headers","initialState","store","configureStore","dispatch","context","insertCss","styles","forEach","add","style","_getCss","storeSubscription","route","router","query","status","data","children","ReactDOM","renderToString","component","id","cssText","join","scripts","assets","vendor","js","chunks","push","map","chunk","client","apiUrl","state","getState","html","renderToStaticMarkup","send","err","pe","PrettyError","skipNodeFiles","skipPackage","render","message","errorPageStyle","listen","info","hot","accept","ContextType","PropTypes","func","isRequired","ReduxProvider","childContextTypes","App","React","PureComponent","getChildContext","props","Children","only","title","description","ogImage","ogImageWidth","ogImageHeight","script","__html","margin","serialize","defaultProps","Html","stack","withStyles","s","ErrorPage","defaults","method","mode","credentials","Accept","Cookie","options","startsWith","Router","routes","resolveRoute","load","action","default","unshift","require","helpersConfig","helpers","createHelpers","middleware","thunk","withExtraArgument","enhancer","createLogger","devToolsExtension","f","BROWSER","window","compose","applyMiddleware","createStore","rootReducer","replaceReducer","combineReducers","runtime","history","inspectObject","object","inspect","colors","singleLine","str","replace","actionFormatters","APOLLO_QUERY_INIT","a","queryId","variables","queryString","APOLLO_QUERY_RESULT","result","APOLLO_QUERY_STOP","formattedPayload","actionFormatter","toString","Object","prototype","log","cheerio","clean","isPerson","request","bluebird","requestAsync","promisify","fields","kt","$","form","kt_cleaned","kt_formatted","slice","gzip","each","i","v","attr","txtKennitala_Raw","txtKennitala","ASPxGridView1$DXKVInput","response","text","toArray","reduce","p","trim","parent","argv"],"mappings":";;;QAAA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,wCAAwC,8OAA8O;QACtR;QACA;QACA;QACA;QACA,kBAAkB,qBAAqB;QACvC;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA;QACA;QACA,cAAc;QACd,IAAI;QACJ;;QAEA;QACA;;;;;;;ACzFA,kC;;;;;;ACAA,uC;;;;;;ACAA;;AAEA,IAAIA,KAAJ,EAAyB;AACvB,QAAM,IAAIC,KAAJ,CACJ,6DADI,CAAN;AAGD;;AAED,IAAIC,gBAAJ;;AAEA,IAAIF,IAAJ,EAA4C;AAC1CE,qBAAmB,eAAnB;AACD;;AAEDC,OAAOC,OAAP,GAAiB;AACf;AACAC,QAAML,QAAQM,GAAR,CAAYC,IAAZ,IAAoB,IAFX;;AAIf;AACAC,OAAK;AACH;AACAC,eACET,QAAQM,GAAR,CAAYI,cAAZ,IACC,oBAAmBV,QAAQM,GAAR,CAAYC,IAAZ,IAAoB,IAAK,EAD7C,IAEA,EALC;AAMH;AACAI,eACEX,QAAQM,GAAR,CAAYM,cAAZ,IACC,oBAAmBZ,QAAQM,GAAR,CAAYC,IAAZ,IAAoB,IAAK;AAT5C,GALU;;AAiBf;AACAM,aAAW;AACTX;AADS;AAlBI,CAAjB,C;;;;;;;ACbA,kBAAkB,mBAAO,CAAC,EAA6L;AACvN,oBAAoB,mBAAO,CAAC,CAAiE;;AAE7F;AACA,kBAAkB,QAAS;AAC3B;;AAEA;AACA,6CAA6C,gBAAgB;AAC7D,yCAAyC,2BAA2B;AACpE,mDAAmD;;AAEnD;AACA;AACA;AACA,QAAQ,KAA8D;AACtE;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wCAAwC,gBAAgB;AACxD,OAAO;AACP,qCAAqC,aAAa,EAAE;AACpD;;;;;;;AC5BA,kC;;;;;;;ACAA;AAAA;;AAEO,MAAMY,uBAAuB,sBAA7B;AAAA;AAAA;;AAEA,SAASC,kBAAT,CAA4B,EAAEC,IAAF,EAAQC,KAAR,EAA5B,EAA6C;AAClD,SAAO;AACLC,UAAMJ,oBADD;AAELK,aAAS;AACPH,UADO;AAEPC;AAFO;AAFJ,GAAP;AAOD,C;;;;;;ACZD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC,gBAAgB;AACnD,IAAI;AACJ;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD,cAAc;;AAElE;AACA;;;;;;;;AC3Ea;;AAEb,iBAAiB,mBAAO,CAAC,EAAsC;;AAE/D;;AAEA,sBAAsB,mBAAO,CAAC,EAAqC;;AAEnE;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,0DAA0D,EAAE;AAC5D;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,2CAA2C,YAAY,EAAE;AACzD;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AAC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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded chunks\n \t// \"0\" means \"already loaded\"\n \tvar installedChunks = {\n \t\t13: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] !== 0) {\n \t\t\tvar chunk = require(\"./chunks/\" + ({\"0\":\"compare-parties\",\"1\":\"questionnaire-results\",\"2\":\"embed-prof\",\"3\":\"kjorskra\",\"4\":\"prof\",\"5\":\"malefnisingle\",\"6\":\"partysingle\",\"7\":\"topics-answers\",\"8\":\"frontpage\",\"9\":\"about\",\"10\":\"malefni\",\"11\":\"previous-elections\",\"12\":\"not-found\"}[chunkId]||chunkId) + \".js\");\n \t\t\tvar moreModules = chunk.modules, chunkIds = chunk.ids;\n \t\t\tfor(var moduleId in moreModules) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t\tfor(var i = 0; i < chunkIds.length; i++)\n \t\t\t\tinstalledChunks[chunkIds[i]] = 0;\n \t\t}\n \t\treturn Promise.resolve();\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/\";\n\n \t// uncatched error handler for webpack runtime\n \t__webpack_require__.oe = function(err) {\n \t\tprocess.nextTick(function() {\n \t\t\tthrow err; // catch this error by using System.import().catch()\n \t\t});\n \t};\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e65ab95182795a56736f","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 13","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 1\n// module chunks = 13","/* eslint-disable max-len */\n\nif (process.env.BROWSER) {\n  throw new Error(\n    'Do not import `config.js` from inside the client-side code.',\n  );\n}\n\nlet googleTrackingId;\n\nif (process.env.NODE_ENV !== 'development') {\n  googleTrackingId = 'UA-39870444-1';\n}\n\nmodule.exports = {\n  // Node.js app\n  port: process.env.PORT || 3000,\n\n  // API Gateway\n  api: {\n    // API URL to be used in the client-side code\n    clientUrl:\n      process.env.API_CLIENT_URL ||\n      `http://localhost:${process.env.PORT || 3000}` ||\n      '',\n    // API URL to be used in the server-side code\n    serverUrl:\n      process.env.API_SERVER_URL ||\n      `http://localhost:${process.env.PORT || 3000}`,\n  },\n\n  // Web analytics\n  analytics: {\n    googleTrackingId,\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-rules-2!../../../node_modules/postcss-loader/lib/index.js??ref--1-rules-3!../../../node_modules/sass-loader/dist/cjs.js!./ErrorPage.css\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--1-rules-2!../../../node_modules/postcss-loader/lib/index.js??ref--1-rules-3!../../../node_modules/sass-loader/dist/cjs.js!./ErrorPage.css\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-rules-2!../../../node_modules/postcss-loader/lib/index.js??ref--1-rules-3!../../../node_modules/sass-loader/dist/cjs.js!./ErrorPage.css\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/routes/error/ErrorPage.css\n// module id = 3\n// module chunks = 13","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 4\n// module chunks = 13","/* eslint-disable import/prefer-default-export */\n\nexport const SET_RUNTIME_VARIABLE = 'SET_RUNTIME_VARIABLE';\n\nexport function setRuntimeVariable({ name, value }) {\n  return {\n    type: SET_RUNTIME_VARIABLE,\n    payload: {\n      name,\n      value,\n    },\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/runtime.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = 6\n// module chunks = 13","'use strict';\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Isomorphic CSS style loader for Webpack\n *\n * Copyright © 2015-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nvar prefix = 's';\nvar inserted = {};\n\n// Base64 encoding and decoding - The \"Unicode Problem\"\n// https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding#The_Unicode_Problem\nfunction b64EncodeUnicode(str) {\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode('0x' + p1);\n  }));\n}\n\n/**\n * Remove style/link elements for specified node IDs\n * if they are no longer referenced by UI components.\n */\nfunction removeCss(ids) {\n  ids.forEach(function (id) {\n    if (--inserted[id] <= 0) {\n      var elem = document.getElementById(prefix + id);\n      if (elem) {\n        elem.parentNode.removeChild(elem);\n      }\n    }\n  });\n}\n\n/**\n * Example:\n *   // Insert CSS styles object generated by `css-loader` into DOM\n *   var removeCss = insertCss([[1, 'body { color: red; }']]);\n *\n *   // Remove it from the DOM\n *   removeCss();\n */\nfunction insertCss(styles) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$replace = _ref.replace,\n      replace = _ref$replace === undefined ? false : _ref$replace,\n      _ref$prepend = _ref.prepend,\n      prepend = _ref$prepend === undefined ? false : _ref$prepend;\n\n  var ids = [];\n  for (var i = 0; i < styles.length; i++) {\n    var _styles$i = (0, _slicedToArray3.default)(styles[i], 4),\n        moduleId = _styles$i[0],\n        css = _styles$i[1],\n        media = _styles$i[2],\n        sourceMap = _styles$i[3];\n\n    var id = moduleId + '-' + i;\n\n    ids.push(id);\n\n    if (inserted[id]) {\n      if (!replace) {\n        inserted[id]++;\n        continue;\n      }\n    }\n\n    inserted[id] = 1;\n\n    var elem = document.getElementById(prefix + id);\n    var create = false;\n\n    if (!elem) {\n      create = true;\n\n      elem = document.createElement('style');\n      elem.setAttribute('type', 'text/css');\n      elem.id = prefix + id;\n\n      if (media) {\n        elem.setAttribute('media', media);\n      }\n    }\n\n    var cssText = css;\n    if (sourceMap && typeof btoa === 'function') {\n      // skip IE9 and below, see http://caniuse.com/atob-btoa\n      cssText += '\\n/*# sourceMappingURL=data:application/json;base64,' + b64EncodeUnicode((0, _stringify2.default)(sourceMap)) + '*/';\n      cssText += '\\n/*# sourceURL=' + sourceMap.file + '?' + id + '*/';\n    }\n\n    if ('textContent' in elem) {\n      elem.textContent = cssText;\n    } else {\n      elem.styleSheet.cssText = cssText;\n    }\n\n    if (create) {\n      if (prepend) {\n        document.head.insertBefore(elem, document.head.childNodes[0]);\n      } else {\n        document.head.appendChild(elem);\n      }\n    }\n  }\n\n  return removeCss.bind(null, ids);\n}\n\nmodule.exports = insertCss;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/isomorphic-style-loader/lib/insertCss.js\n// module id = 7\n// module chunks = 13","module.exports = require(\"isomorphic-style-loader/lib/withStyles\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-style-loader/lib/withStyles\"\n// module id = 8\n// module chunks = 13","module.exports = require(\"kennitala\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"kennitala\"\n// module id = 11\n// module chunks = 13","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 14\n// module chunks = 13","import path from 'path';\nimport multer from 'multer';\nimport multerS3 from 'multer-s3';\nimport aws from 'aws-sdk';\nimport express from 'express';\nimport bodyParser from 'body-parser';\nimport nodeFetch from 'node-fetch';\nimport React from 'react';\nimport ReactDOM from 'react-dom/server';\nimport PrettyError from 'pretty-error';\nimport Redis from 'ioredis';\nimport * as uuid from 'uuid';\n\nimport App from './components/App';\nimport Html from './components/Html';\nimport { ErrorPageWithoutStyle } from './routes/error/ErrorPage';\nimport errorPageStyle from './routes/error/ErrorPage.css';\nimport createFetch from './createFetch';\nimport router from './router';\n// import schema from './data/schema';\nimport assets from './assets.json'; // eslint-disable-line import/no-unresolved\nimport configureStore from './store/configureStore';\nimport config from './config';\nimport kjorskra from './lib/kjorskra';\nimport { setRuntimeVariable } from './actions/runtime';\n\nlet redis;\nif (process.env.REDIS_URL) {\n  redis = new Redis(\n    process.env.REDIS_URL,\n    process.env.REDIS_URL.includes('rediss://')\n      ? {\n          tls: {\n            rejectUnauthorized: false,\n            family: process.env.FLY_APP_NAME ? 6 : 4,\n          },\n        }\n      : {\n          family: process.env.FLY_APP_NAME ? 6 : 4,\n        },\n  );\n} else {\n  console.error(\n    'WARNING YOU ARE RUNNING THIS PROJECT WITHOUT PERMANENTLY STORING REPLY DATA',\n  );\n}\n\n// let s3;\n// let upload;\n\n/*\n  if (process.env.NODE_ENV === 'production') {\n    s3 = new aws.S3({\n      accessKeyId: process.env.S3_ACCESS_KEY,\n      secretAccessKey: process.env.S3_SECRET_KEY,\n    });\n    upload = multer({\n      storage: multerS3({\n        s3,\n        bucket: process.env.S3_BUCKET,\n        acl: 'public-read',\n        async key(req, file, cb) {\n          if (!['image/png', 'image/jpg', 'image/jpeg'].includes(file.mimetype))\n            return cb(new Error('Wrong filetype'));\n\n          const token = req.query.token;\n          if (!uuid.validate(token))\n            throw Error(\n              'Rangt auðkenni. Hafðu samband við kjosturett@voliprav.si ef þetta er röng villa.',\n            );\n          const ssn = await redis.get(`candidate-token:${token}`);\n\n          if (!ssn)\n            return cb(\n              new Error(\n                'Rangur hlekkur. Hafðu samband við kjosturett@voliprav.si ef þetta er röng villa.',\n              ),\n            );\n\n          cb(null, `candidates/${ssn}.jpg`);\n        },\n      }),\n    });\n  } else {\n    upload = multer({ dest: 'uploads/' });\n  }\n*/\n\nconst app = express();\n\n// Tell any CSS tooling (such as Material UI) to use all vendor prefixes if the\n// user agent is not known.\n// -----------------------------------------------------------------------------\nglobal.navigator = global.navigator || {};\nglobal.navigator.userAgent = global.navigator.userAgent || 'all';\n\n//\n// Register Node.js middleware\n// -----------------------------------------------------------------------------\napp.use(express.static(path.resolve(__dirname, 'public')));\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\n\nif (__DEV__) {\n  app.enable('trust proxy');\n}\n\napp.get('/og-image-kjorskra/:coordinates', (req, res) => {\n  const { coordinates } = req.params;\n  const url = `https://kjosturett-is.imgix.net/og_kjorskra3.png?markalign=right%2Cmiddle&mark=https%3A%2F%2Fmaps.googleapis.com%2Fmaps%2Fapi%2Fstaticmap%3Fcenter%3D${coordinates}%26zoom%3D14%26size%3D600x630%26maptype%3Droadmap%26markers%3Dicon%3Ahttps%3A%2F%2Fimgix.voliprav.si%2Fmap_marker3.png%7C${coordinates}`;\n  res.redirect(301, url);\n});\n\napp.get('/kjorskra-lookup/:kennitala', (req, res, next) => {\n  kjorskra(req.params.kennitala).then(d => res.json(d), next);\n});\n\n/**\n * Used to candidate profile upload\n */\n/*\napp.post('/candidate/avatar', upload.single('avatar'), (req, res) => {\n  if (!req.query.token)\n    return res.json({\n      success: false,\n      error: 'Failed to upload photo, missing token',\n    });\n\n  res.redirect(`/svar?token=${req.query.token}&upload=success`);\n});\n*/\n\n// Used to gather replies from candidates and parties\napp.post('/konnun/replies', async (req, res) => {\n  /*\n    if (Date.now() > 1632614400000) {\n      return res.json({\n        success: false,\n        error: 'Kosningarnar eru búnar',\n      });\n    }\n  */\n\n  const { token, party, reply } = req.body;\n\n  const timestamp = Math.round(Date.now() / 1000);\n\n  await redis.set(`poll:private:${party}:${token}:${timestamp}`, reply);\n  res.json({ success: true });\n});\n\napp.post('/konnun/topics', async (req, res) => {\n  /*\n    if (Date.now() > 1632614400000) {\n      return res.json({\n        success: false,\n        error: 'Kosningarnar eru búnar',\n      });\n    }\n  */\n\n  const { token, party, answers } = req.body;\n\n  const timestamp = Math.round(Date.now() / 1000);\n\n  await redis.set(\n    `topics:private:${party}:${token}:${timestamp}`,\n    JSON.stringify(answers),\n  );\n  res.json({ success: true });\n});\n\n// Used to gather replies from voters in an anonymous way\napp.post('/konnun/replies/all', async (req, res) => {\n  const { reply } = req.body;\n\n  const token = uuid.v4();\n  const timestamp = Math.round(Date.now() / 1000);\n\n  await redis.set(`poll:public:${token}:${timestamp}`, reply);\n  res.json({ success: true });\n});\n\n//\n// Register server-side rendering middleware\n// -----------------------------------------------------------------------------\napp.get('*', async (req, res, next) => {\n  try {\n    const css = new Set();\n\n    // Universal HTTP client\n    const fetch = createFetch(nodeFetch, {\n      baseUrl: config.api.serverUrl,\n      cookie: req.headers.cookie,\n    });\n\n    const initialState = {};\n\n    const store = configureStore(initialState, {\n      fetch,\n    });\n\n    store.dispatch(\n      setRuntimeVariable({\n        name: 'initialNow',\n        value: Date.now(),\n      }),\n    );\n\n    // Global (context) variables that can be easily accessed from any React component\n    // https://facebook.github.io/react/docs/context.html\n\n    // console.log('in here creating context with', req.headers.cookie, req.user);\n    const context = {\n      // Enables critical path CSS rendering\n      // https://github.com/kriasoft/isomorphic-style-loader\n      insertCss: (...styles) => {\n        // eslint-disable-next-line no-underscore-dangle\n        styles.forEach(style => css.add(style._getCss()));\n      },\n      fetch,\n      // You can access redux through react-redux connect\n      store,\n      storeSubscription: null,\n    };\n\n    const route = await router.resolve({\n      ...context,\n      path: req.path,\n      query: req.query,\n    });\n\n    if (route.redirect) {\n      res.redirect(route.status || 302, route.redirect);\n      return;\n    }\n\n    const data = { ...route };\n    data.children = ReactDOM.renderToString(\n      <App context={context} store={store}>\n        {route.component}\n      </App>,\n    );\n    data.styles = [{ id: 'css', cssText: [...css].join('') }];\n    data.scripts = [assets.vendor.js];\n    if (route.chunks) {\n      data.scripts.push(...route.chunks.map(chunk => assets[chunk].js));\n    }\n    data.scripts.push(assets.client.js);\n    data.app = {\n      apiUrl: config.api.clientUrl,\n      state: context.store.getState(),\n    };\n\n    const html = ReactDOM.renderToStaticMarkup(<Html {...data} />);\n    res.status(route.status || 200);\n    res.send(`<!doctype html>${html}`);\n  } catch (err) {\n    next(err);\n  }\n});\n\n//\n// Error handling\n// -----------------------------------------------------------------------------\nconst pe = new PrettyError();\npe.skipNodeFiles();\npe.skipPackage('express');\n\n// eslint-disable-next-line no-unused-vars\napp.use((err, req, res, next) => {\n  console.error(pe.render(err));\n  const html = ReactDOM.renderToStaticMarkup(\n    <Html\n      title=\"Internal Server Error\"\n      description={err.message}\n      styles={[{ id: 'css', cssText: errorPageStyle._getCss() }]} // eslint-disable-line no-underscore-dangle\n    >\n      {ReactDOM.renderToString(<ErrorPageWithoutStyle error={err} />)}\n    </Html>,\n  );\n  res.status(err.status || 500);\n  res.send(`<!doctype html>${html}`);\n});\n\n//\n// Launch the server\n// -----------------------------------------------------------------------------\nif (!module.hot) {\n  app.listen(config.port, () => {\n    console.info(`The server is running at http://localhost:${config.port}/`);\n  });\n}\n\n//\n// Hot Module Replacement\n// -----------------------------------------------------------------------------\nif (module.hot) {\n  app.hot = module.hot;\n  module.hot.accept('./router');\n}\n\nexport default app;\n\n\n\n// WEBPACK FOOTER //\n// ./src/server.js","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 16\n// module chunks = 13","module.exports = require(\"multer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"multer\"\n// module id = 17\n// module chunks = 13","module.exports = require(\"multer-s3\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"multer-s3\"\n// module id = 18\n// module chunks = 13","module.exports = require(\"aws-sdk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-sdk\"\n// module id = 19\n// module chunks = 13","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 20\n// module chunks = 13","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 21\n// module chunks = 13","module.exports = require(\"node-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-fetch\"\n// module id = 22\n// module chunks = 13","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 23\n// module chunks = 13","module.exports = require(\"pretty-error\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pretty-error\"\n// module id = 24\n// module chunks = 13","module.exports = require(\"ioredis\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ioredis\"\n// module id = 25\n// module chunks = 13","module.exports = require(\"uuid\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uuid\"\n// module id = 26\n// module chunks = 13","/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Provider as ReduxProvider } from 'react-redux';\n\nconst ContextType = {\n  // Enables critical path CSS rendering\n  // https://github.com/kriasoft/isomorphic-style-loader\n  insertCss: PropTypes.func.isRequired,\n  // Universal HTTP client\n  fetch: PropTypes.func.isRequired,\n  // Integrate Redux\n  // http://redux.js.org/docs/basics/UsageWithReact.html\n  ...ReduxProvider.childContextTypes,\n};\n\n/**\n * The top-level React component setting context (global) variables\n * that can be accessed from all the child components.\n *\n * https://facebook.github.io/react/docs/context.html\n *\n * Usage example:\n *\n *   const context = {\n *     history: createBrowserHistory(),\n *     store: createStore(),\n *   };\n *\n *   ReactDOM.render(\n *     <App context={context}>\n *       <Layout>\n *         <LandingPage />\n *       </Layout>\n *     </App>,\n *     container,\n *   );\n */\nclass App extends React.PureComponent {\n  static propTypes = {\n    context: PropTypes.shape(ContextType).isRequired,\n    children: PropTypes.element.isRequired,\n  };\n\n  static childContextTypes = ContextType;\n\n  getChildContext() {\n    return this.props.context;\n  }\n\n  render() {\n    // NOTE: If you need to add or modify header, footer etc. of the app,\n    // please do that inside the Layout component.\n    return React.Children.only(this.props.children);\n  }\n}\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/App.js","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 28\n// module chunks = 13","import React from 'react';\nimport PropTypes from 'prop-types';\nimport serialize from 'serialize-javascript';\nimport config from '../config';\n\n/* eslint-disable react/no-danger */\n\nclass Html extends React.Component {\n  static propTypes = {\n    title: PropTypes.string,\n    description: PropTypes.string,\n    ogImage: PropTypes.string,\n    ogImageWidth: PropTypes.number,\n    ogImageHeight: PropTypes.number,\n    styles: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        cssText: PropTypes.string.isRequired\n      }).isRequired\n    ),\n    scripts: PropTypes.arrayOf(PropTypes.string.isRequired),\n    app: PropTypes.object, // eslint-disable-line\n    children: PropTypes.string.isRequired\n  };\n\n  static defaultProps = {\n    styles: [],\n    scripts: []\n  };\n\n  render() {\n    const {\n      title = 'Voli prav 2022',\n      description = 'Informacije o političnih strankah in njihovih stališčih predstavljene javnosti.',\n      path = '/',\n      styles,\n      scripts,\n      app,\n      children,\n      ogImage,\n      ogImageWidth,\n      ogImageHeight\n    } = this.props;\n\n    return (\n      <html className=\"no-js\" lang=\"en\">\n        <head>\n          <meta charSet=\"utf-8\" />\n          <meta httpEquiv=\"x-ua-compatible\" content=\"ie=edge\" />\n          <title>{title}</title>\n          {/* <meta name=\"description\" content={description} /> */}\n          <meta\n            name=\"viewport\"\n            content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\"\n          />\n\n          <meta property=\"og:locale\" content=\"is_IS\" />\n          <meta name=\"description\" content={description} />\n          <meta\n            name=\"keywords\"\n            content=\"volitve,volitve 2022,parlamentarne,voli,voliti,koga voliti,program,program stranke,sds,lmš,sd,konkretno,nsi,pirati,levica\"\n          />\n          <meta property=\"og:title\" content={title} />\n          <meta property=\"og:site_name\" content=\"Voli prav 2022\" />\n          <meta property=\"og:url\" content={`https://beta.voliprav.si${path}`} />\n          <meta property=\"og:description\" content={description} />\n          <meta property=\"og:type\" content=\"website\" />\n\n          <link\n            rel=\"apple-touch-icon\"\n            sizes=\"180x180\"\n            href=\"/apple-touch-icon.png\"\n          />\n          <link\n            rel=\"icon\"\n            type=\"image/png\"\n            sizes=\"32x32\"\n            href=\"/favicon-32x32.png\"\n          />\n          <link\n            rel=\"icon\"\n            type=\"image/png\"\n            sizes=\"16x16\"\n            href=\"/favicon-16x16.png\"\n          />\n          <link rel=\"manifest\" href=\"/manifest.json\" />\n          <link rel=\"mask-icon\" href=\"/safari-pinned-tab.svg\" color=\"#5bbad5\" />\n          <meta name=\"theme-color\" content=\"#ffffff\" />\n\n          {ogImageWidth && (\n            <meta property=\"og:image:width\" content={ogImageWidth} />\n          )}\n          {ogImageHeight && (\n            <meta property=\"og:image:height\" content={ogImageHeight} />\n          )}\n          {ogImage && <meta property=\"og:image\" content={ogImage} />}\n          {!ogImage && (\n            <meta\n              property=\"og:image\"\n              content=\"https://beta.voliprav.si/og_2022.png\"\n            />\n          )}\n\n          <meta name=\"twitter:card\" content=\"summary_large_image\" />\n          <meta name=\"twitter:title\" content=\"Voli prav 2022\" />\n          <meta name=\"twitter:description\" content={description} />\n\n          <link\n            href=\"https://fonts.googleapis.com/css?family=Lora|Roboto:300,400,500,900\"\n            rel=\"stylesheet\"\n          />\n\n          {scripts.map(script => (\n            <link key={script} rel=\"preload\" href={script} as=\"script\" />\n          ))}\n          {styles.map(style => (\n            <style\n              key={style.id}\n              id={style.id}\n              dangerouslySetInnerHTML={{ __html: style.cssText }}\n            />\n          ))}\n        </head>\n        <body style={{ margin: 0 }}>\n          <div id=\"app\" dangerouslySetInnerHTML={{ __html: children }} />\n          <script\n            dangerouslySetInnerHTML={{ __html: `window.App=${serialize(app)}` }}\n          />\n          {scripts.map(script => (\n            <script key={script} src={script} />\n          ))}\n          {config.analytics.googleTrackingId && (\n            <script\n              dangerouslySetInnerHTML={{\n                __html:\n                  'window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;' +\n                  `ga('create','${config.analytics.googleTrackingId}','auto');ga('send','pageview')`\n              }}\n            />\n          )}\n          {config.analytics.googleTrackingId && (\n            <script\n              src=\"https://www.google-analytics.com/analytics.js\"\n              async\n              defer\n            />\n          )}\n          {/* <script src=\"https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js\" /> */}\n          {/* <script\n            dangerouslySetInnerHTML={{\n              __html: \"WebFont.load({ google: { families: ['PT Sans'] }});\"\n            }}\n          /> */}\n        </body>\n      </html>\n    );\n  }\n}\n\nexport default Html;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Html.js","module.exports = require(\"serialize-javascript\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serialize-javascript\"\n// module id = 30\n// module chunks = 13","/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from 'isomorphic-style-loader/lib/withStyles';\nimport s from './ErrorPage.css';\n\nclass ErrorPage extends React.Component {\n  static propTypes = {\n    error: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      message: PropTypes.string.isRequired,\n      stack: PropTypes.string.isRequired,\n    }),\n  };\n\n  static defaultProps = {\n    error: null,\n  };\n\n  render() {\n    if (__DEV__ && this.props.error) {\n      return (\n        <div>\n          <h1>{this.props.error.name}</h1>\n          <pre>{this.props.error.stack}</pre>\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <h1>Error</h1>\n        <p>Sorry, a critical error occurred on this page.</p>\n      </div>\n    );\n  }\n}\n\nexport { ErrorPage as ErrorPageWithoutStyle };\nexport default withStyles(s)(ErrorPage);\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/error/ErrorPage.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0 32px;padding:0 2rem;height:100%;font-family:sans-serif;text-align:center;color:#888}body{margin:0}h1{font-weight:400;color:#555}pre{white-space:pre-wrap;text-align:left}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader??ref--1-rules-2!./node_modules/postcss-loader/lib??ref--1-rules-3!./node_modules/sass-loader/dist/cjs.js!./src/routes/error/ErrorPage.css\n// module id = 32\n// module chunks = 13","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/json/stringify\"\n// module id = 33\n// module chunks = 13","module.exports = require(\"babel-runtime/helpers/slicedToArray\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/slicedToArray\"\n// module id = 34\n// module chunks = 13","/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n/* @flow */\n\ntype Fetch = (url: string, options: ?any) => Promise<any>;\n\ntype Options = {\n  baseUrl: string,\n  cookie?: string\n};\n\n/**\n * Creates a wrapper function around the HTML5 Fetch API that provides\n * default arguments to fetch(...) and is intended to reduce the amount\n * of boilerplate code in the application.\n * https://developer.mozilla.org/docs/Web/API/Fetch_API/Using_Fetch\n */\nfunction createFetch(fetch: Fetch, { baseUrl, cookie }: Options) {\n  // NOTE: Tweak the default options to suite your application needs\n  const defaults = {\n    method: 'POST', // handy with GraphQL backends\n    mode: baseUrl ? 'cors' : 'same-origin',\n    credentials: baseUrl ? 'include' : 'same-origin',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      ...(cookie ? { Cookie: cookie } : null)\n    }\n  };\n\n  return (url: string, options: any) =>\n    url.startsWith('/graphql') || url.startsWith('/api')\n      ? fetch(`${baseUrl}${url}`, {\n          ...defaults,\n          ...options,\n          headers: {\n            ...defaults.headers,\n            ...(options && options.headers)\n          }\n        })\n      : fetch(url, options);\n}\n\nexport default createFetch;\n\n\n\n// WEBPACK FOOTER //\n// ./src/createFetch.js","/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport Router from 'universal-router';\nimport routes from './routes';\n\nexport default new Router(routes, {\n  resolveRoute(context, params) {\n    if (typeof context.route.load === 'function') {\n      return context.route\n        .load()\n        .then(action => action.default(context, params));\n    }\n    if (typeof context.route.action === 'function') {\n      return context.route.action(context, params);\n    }\n    return null;\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router.js","module.exports = require(\"universal-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"universal-router\"\n// module id = 37\n// module chunks = 13","/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\n/* eslint-disable global-require */\n\n// The top-level (parent) route\nconst routes = {\n  path: '/',\n\n  // Keep in mind, routes are evaluated in order\n  children: [\n    {\n      path: '/',\n      load: () => import(/* webpackChunkName: 'frontpage' */ './frontpage'),\n    },\n    {\n      path: '/4e94afa38918c6f2dcc12fd8a04d3972',\n      load: () => import(/* webpackChunkName: 'prof' */ './questionnaire'),\n    },\n    {\n      path: '/5e94afa38918c6f2dcc12fd8a04d3972',\n      load: () =>\n        import(/* webpackChunkName: 'topics-answers' */ './topics-private'),\n    },\n    {\n      path: '/embed',\n      children: [\n        {\n          path: '/vprasalnik',\n          children: [\n            {\n              path: '',\n              load: () =>\n                import(\n                  /* webpackChunkName: 'embed-prof' */ './embed/questionnaire'\n                ),\n            },\n            {\n              path: '/:results',\n              load: () =>\n                import(\n                  /* webpackChunkName: 'embed-prof' */ './embed/questionnaire/results'\n                ),\n            },\n          ],\n        },\n      ],\n    },\n    {\n      path: '/svar',\n      load: () => import(/* webpackChunkName: 'questionnaire' */ './questionnaire'),\n    },\n    {\n      path: '/vprasalnik',\n      children: [\n        {\n          path: '',\n          load: () =>\n            import(\n              /* webpackChunkName: 'questionnaire-results' */ './questionnaire-results'\n            ),\n        },\n        {\n          path: '/:results',\n          load: () =>\n            import(\n              /* webpackChunkName: 'questionnaire-results' */ './questionnaire-results/results'\n            ),\n        },\n      ],\n    },\n    {\n      path: '/prejsnje-volitve',\n      load: () =>\n        import(\n          /* webpackChunkName: 'previous-elections' */ './previous-elections'\n        ),\n    },\n    {\n      path: '/tematike',\n      load: () => import(/* webpackChunkName: 'malefni' */ './malefni'),\n    },\n    {\n      path: '/o-nas',\n      load: () => import(/* webpackChunkName: 'about' */ './about'),\n    },\n    {\n      path: '/kjorskra',\n      load: () => import(/* webpackChunkName: 'kjorskra' */ './kjorskra'),\n    },\n    {\n      path: '/kjorskra/:nidurstada',\n      load: () => import(/* webpackChunkName: 'kjorskra' */ './kjorskra'),\n    },\n    {\n      path: '/tematike/:malefni',\n      load: () =>\n        import(/* webpackChunkName: 'malefnisingle' */ './malefnisingle'),\n    },\n    {\n      path: '/stranke/primerjaj',\n      children: [\n        {\n          path: '',\n          load: () =>\n            import(\n              /* webpackChunkName: 'compare-parties' */ './compare-parties'\n            ),\n        },\n        {\n          path: '/:letters',\n          load: () =>\n            import(\n              /* webpackChunkName: 'compare-parties' */ './compare-parties'\n            ),\n        },\n      ],\n    },\n    {\n      path: '/stranke/:party',\n      load: () => import(/* webpackChunkName: 'partysingle' */ './partysingle'),\n    },\n    // Wildcard routes, e.g. { path: '*', ... } (must go last)\n    {\n      path: '*',\n      load: () => import(/* webpackChunkName: 'not-found' */ './not-found'),\n    },\n  ],\n\n  async action({ next }) {\n    // Execute each child route until one of them return the result\n    const route = await next();\n\n    // Provide default values for title, description etc.\n    route.title = route.title || 'Voli prav';\n    route.description = route.description || '';\n\n    return route;\n  },\n};\n\n// The error page is available by permanent url for development mode\nif (__DEV__) {\n  routes.children.unshift({\n    path: '/error',\n    action: require('./error').default,\n  });\n}\n\nexport default routes;\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/index.js","module.exports = require(\"./assets.json\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"./assets.json\"\n// module id = 39\n// module chunks = 13","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from '../reducers';\nimport createHelpers from './createHelpers';\nimport createLogger from './logger';\n\nexport default function configureStore(initialState, helpersConfig) {\n  const helpers = createHelpers(helpersConfig);\n  const middleware = [thunk.withExtraArgument(helpers)];\n\n  let enhancer;\n\n  if (__DEV__) {\n    middleware.push(createLogger());\n\n    // https://github.com/zalmoxisus/redux-devtools-extension#redux-devtools-extension\n    let devToolsExtension = f => f;\n    if (process.env.BROWSER && window.devToolsExtension) {\n      devToolsExtension = window.devToolsExtension();\n    }\n\n    enhancer = compose(applyMiddleware(...middleware), devToolsExtension);\n  } else {\n    enhancer = applyMiddleware(...middleware);\n  }\n\n  // See https://github.com/rackt/redux/releases/tag/v3.1.0\n  const store = createStore(rootReducer, initialState, enhancer);\n\n  // Hot reload reducers (requires Webpack or Browserify HMR to be enabled)\n  if (__DEV__ && module.hot) {\n    module.hot.accept('../reducers', () =>\n      // eslint-disable-next-line global-require\n      store.replaceReducer(require('../reducers').default),\n    );\n  }\n\n  return store;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/configureStore.js","module.exports = require(\"redux-thunk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-thunk\"\n// module id = 41\n// module chunks = 13","import { combineReducers } from 'redux';\nimport runtime from './runtime';\n\nexport default combineReducers({\n  runtime,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/index.js","import { SET_RUNTIME_VARIABLE } from '../actions/runtime';\n\nexport default function runtime(state = {}, action) {\n  switch (action.type) {\n    case SET_RUNTIME_VARIABLE:\n      return {\n        ...state,\n        [action.payload.name]: action.payload.value,\n      };\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/runtime.js","export default function createHelpers({ fetch, history }) {\n  return {\n    fetch,\n    history,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/createHelpers.js","import { inspect } from 'util';\n\nfunction inspectObject(object) {\n  return inspect(object, {\n    colors: true,\n  });\n}\n\nfunction singleLine(str) {\n  return str.replace(/\\s+/g, ' ');\n}\n\nconst actionFormatters = {\n  // This is used at feature/apollo branch, but it can help you when implementing Apollo\n  APOLLO_QUERY_INIT: a =>\n    `queryId:${a.queryId} variables:${inspectObject(\n      a.variables,\n    )}\\n   ${singleLine(a.queryString)}`,\n\n  APOLLO_QUERY_RESULT: a =>\n    `queryId:${a.queryId}\\n   ${singleLine(inspectObject(a.result))}`,\n\n  APOLLO_QUERY_STOP: a => `queryId:${a.queryId}`,\n};\n\n// Server side redux action logger\nexport default function createLogger() {\n  // eslint-disable-next-line no-unused-vars\n  return store => next => action => {\n    let formattedPayload = '';\n    const actionFormatter = actionFormatters[action.type];\n    if (typeof actionFormatter === 'function') {\n      formattedPayload = actionFormatter(action);\n    } else if (action.toString !== Object.prototype.toString) {\n      formattedPayload = action.toString();\n    } else if (typeof action.payload !== 'undefined') {\n      formattedPayload = inspectObject(action.payload);\n    } else {\n      formattedPayload = inspectObject(action);\n    }\n\n    console.log(` * ${action.type}: ${formattedPayload}`); // eslint-disable-line no-console\n    return next(action);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/logger/logger.server.js","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 46\n// module chunks = 13","const cheerio = require('cheerio');\nconst { clean, isPerson } = require('kennitala');\nconst request = require('request');\nconst bluebird = require('bluebird');\nconst requestAsync = bluebird.promisify(request);\nconst fields = [\n  'kennitala',\n  'nafn',\n  'logheimili',\n  'kjordaemi',\n  'sveitafelag',\n  'kjorstadur',\n  'kjordeild'\n];\n\nmodule.exports = async function(kt) {\n  if (!isPerson(kt)) {\n    return {\n      success: false,\n      message: 'Kennitala not valid'\n    };\n  }\n\n  let res, $;\n  let form = {};\n\n  // Ensure hyphen is in the right place\n  const kt_cleaned = clean(kt);\n  const kt_formatted = kt_cleaned.slice(0, 6) + '-' + kt_cleaned.slice(6);\n\n  res = await requestAsync({\n    url: 'https://kjorskra.skra.is/kjorskra/',\n    method: 'GET',\n    gzip: true\n  });\n  $ = cheerio.load(res.body);\n  $('form input').each((i, v) => {\n    form[$(v).attr('name')] = $(v).attr('value');\n  });\n\n  form.txtKennitala_Raw = kt_formatted;\n  form.txtKennitala = kt_formatted;\n  form.ASPxGridView1$DXKVInput = kt_cleaned;\n\n  res = await requestAsync({\n    url: 'https://kjorskra.skra.is/kjorskra/',\n    method: 'POST',\n    gzip: true,\n    form\n  });\n\n  $ = cheerio.load(res.body);\n\n  const response = $('#ASPxGridView1_DXDataRow0 td')\n    .map((i, v) => $(v).text())\n    .toArray()\n    .reduce(\n      (p, d, i) => {\n        p[fields[i]] = d.trim();\n        return p;\n      },\n      {\n        success: true\n      }\n    );\n\n  if (!response.kennitala)\n    return {\n      success: false,\n      message: 'Kennitala not found'\n    };\n  else return response;\n};\n\nif (!module.parent) {\n  if (!process.argv[2]) console.log('CLI usage: node kjorskra [kennitala]');\n  else module.exports(process.argv[2]).then(console.log, console.log);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/kjorskra.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 48\n// module chunks = 13","module.exports = require(\"cheerio\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cheerio\"\n// module id = 49\n// module chunks = 13","module.exports = require(\"request\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"request\"\n// module id = 50\n// module chunks = 13","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 51\n// module chunks = 13","module.exports = require(\"classnames\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"classnames\"\n// module id = 52\n// module chunks = 13","module.exports = require(\"react-countdown-now\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-countdown-now\"\n// module id = 53\n// module chunks = 13","module.exports = require(\"history\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"history\"\n// module id = 54\n// module chunks = 13","module.exports = require(\"react-collapse\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-collapse\"\n// module id = 55\n// module chunks = 13","module.exports = require(\"react-scroll\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-scroll\"\n// module id = 56\n// module chunks = 13","module.exports = require(\"query-string\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"query-string\"\n// module id = 57\n// module chunks = 13","module.exports = require(\"rc-slider\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rc-slider\"\n// module id = 58\n// module chunks = 13","module.exports = require(\"react-image\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-image\"\n// module id = 59\n// module chunks = 13","module.exports = require(\"react-select\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-select\"\n// module id = 60\n// module chunks = 13","module.exports = require(\"react-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom\"\n// module id = 70\n// module chunks = 13","module.exports = require(\"react-google-maps\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-google-maps\"\n// module id = 71\n// module chunks = 13"],"sourceRoot":""}